---
sidebar: sidebar
permalink: manage-data/data-cloning.html
keywords: data cloning, clone data, cloning data, luns, namespaces, clone storage units, clone, cloning, clone consistency groups
summary: Clone storage units and consistency groups on the ASA r2 to create data copies that can be used in isolation from production data for a variety of purposes. 
---
= Clone data on the ASA r2
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
Clone storage units and consistency groups to create data copies that can be used in isolation from your production data for a variety of purposes such as application development, testing and backups.

== Clone storage units
Clone storage units to create point-in-time, writable copies of your production data.  Use storage unit clones for essential enterprise operations such as application development and testing or provisioning of server and desktop images. 

.Steps

Storage units can be cloned from your source storage VMs or from storage VMs that have been replicated to remote destinations.

// start tabbed area

[role="tabbed-block"]
====

.Clone from source storage VM
--
. In System Manager, select *Storage*.
. Hover over the name of the storage unit you want to clone.
. Select image:icon_kabob.gif[three vertical blue dots]; then select *Clone*.
. Accept the default name for the new storage unit that will be created as a clone or enter a new one.
. Select the host operating system.
+
A new snapshot is created for the clone by default.  
. If you want to use an existing snapshot or if you want to split the clone, select *More Options* then complete the necessary steps.
+
[cols="2" options="header"]
|===
// header row
| If you want...
| Do this...

a| Use an existing snapshot
a| 
.. Under *Snapshot to clone*, select *Use an existing snaphot*.
.. Select the snapshot you want to use for the clone.

a| Create a new host group
a| 
.. Under *Host mapping*, select *New host group*.
.. Enter a name for the new host group; then select the host initiators to include in the group.

a| Add a new host
a|
.. Under *Host mapping*, select *New hosts*.
.. Enter the name new host name; then select *FC* or *iSCSI*.
.. Select the host initiators from the list of existing initiators or select *Add* to add new initiators for the host.

// table end
|===

. Select *Clone*.
--

.Clone from remote snapshot
--
. In System Manager, select *Protection > Replication*.
. Hover over the *Source* you want to clone.
. Select image:icon_kabob.gif[three vertical blue dots], then select *Clone*.
. Select the source cluster and storage VM; then enter a name for the new consistency group or accept the default name.
. Select the snapshot to clone; then select *Clone*.
--

====

// end tabbed area

== Clone consistency groups

Clone a consistency group to create a new consistency group thatâ€™s identical in structure, storage units, and data to the consistency group being cloned. Use a clone to perform application testing or to migrate data.  Suppose, for example, you need to migrate a production workload out of a consistency group.  You can clone the consistency group to create a copy of your production workload to maintain as a backup until the migration is complete.

The clone is created from a snapshot of the original consistency group.  The snapshot used for the clone is taken at the point in time that the cloning process is initiated by default. You can modify the default behavior to use a pre-existing snapshot. 

You can also choose to create a new host group or add new hosts to the clone when it is created.

Storage unit mappings are copied as part of the cloning process.  Snapshot polices are not copied as part of the cloning process.  To protect your data, you should link:../data-protection/create-snapshots.html#step-2-create-a-snapshot[create snapshots] of the cloned consistency group after it is created.

.Steps

. In System Manager, select *Protection > Consistency groups*.
. Hover over the consistency group you want to clone.
. Select image:icon_kabob.gif[three vertical blue dots], then select *Clone*.
. Enter a name for the new, cloned consistency group or accept the default name.
. Select the host operating system.
. If you want to dissociate the clone from the source consistency group and allocate disk space, select *Split clone*.
. If you want to use an existing snapshot, create a new host group or add a new host for the clone, select *More Options*.
+
[cols="2" options="header"]
|===
// header row
| If you want to...
| Do this...

a| Use an existing snapshot
a|
.. Under *Snapshot to clone*, select *Use an existing snapshot*.
.. Select the snapshot you want to use for the clone.

a| Create a new host group
a|
.. Under *Host mapping*, select *New host group*.
.. Enter a name for the new host group; then select the host initiators to include in the group.

a| Add a new host
a|
.. Under *Host mapping*, select *New hosts*.
.. Enter the name new host name; then select *FC* or *iSCSI*.
.. Select the host initiators from the list of existing initiators or select *Add initiator* to add new initiators for the host.

// table end
|===

. Select *Clone*.

// ONTAPDOC 1922, 2024 Sept 24